#!/usr/bin/python3
print('Content-type: text/html\n')
import cgitb
import codecs
cgitb.enable()
print('''
<!DOCTYPE HTML>
<html>
  <head>
    <title>erin lee</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Righteous">
    <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Forum">
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <style>
      h1 {
        text-align: center;
        font-family: 'Righteous';
        font-size: 70px;
      }
      h5 {
        text-align: center;
        font-family: 'Forum';
        font-size: 15px;
      }
      hr {
        width: 99%;
        height: 0.2px;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 4px;
        background-color: #000000;
        }
      .header {
        padding-left: 40px;
        padding-right: 40px;
      }

    </style>
  </head>
  <body>
    <div class = 'container header'><br>
      <h1>The Radish</h1>
      <hr></hr>
      <div class = 'row top'>
        <div class = 'col-md-1'>
          <h5>World</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>U.S.</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Politics</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>N.Y.</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Business</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Opinion</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Tech</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Science</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Health</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Sports</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Arts</h5>
        </div>
        <div class = 'col-md-1'>
          <h5>Books</h5>
        </div>
      </div>
'''
)

def web_print(link):
  master_ary = []
  pic_ary = []
  nopic_ary = []
  if link.split("/")[3] == "":
    file = "home"
  elif link.split("/")[3] == "section":
     file = link.split("/")[4]
  s = open(file + '.txt', encoding='utf-8').read()
  s = s.encode('ascii', 'xmlcharrefreplace').decode()
  articles = s.split('\n')
  for article in articles:
    sections = article.split("\t")
    dict = {}
    dict["title"] = sections[0]
    dict["description"] = sections[1]
    dict["link"] = sections[2]
    dict["photo"] = sections[3]
    master_ary.append(dict)
    if dict['photo'] == 'NO-IMG':
      nopic_ary.append(dict)
    else: 
      pic_ary.append(dict)
  return [master_ary, pic_ary, nopic_ary]
ary = web_print('https://www.nytimes.com/')
#print(ary)
#for a in ary:
#   print("<h1>ary</h1>")
#   print(a)
#   print("<br>")

print('''
    </div>
  </body>
</html>
''')
